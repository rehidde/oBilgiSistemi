<!DOCTYPE html>
<html lang="tr">

<head>
    <meta charset="UTF-8">
    <title>Akademisyen YÃ¶netimi - Admin</title>
    <link rel="stylesheet" href="/css/dashboardAdmin.css">
    <style>
        .accordion-header {
            cursor: pointer;
            background: #800000;
            color: white;
            padding: 15px;
            border-radius: 8px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .accordion-header:hover {
            background: #610e0e;
        }

        .accordion-content {
            display: none;
            padding: 20px;
            border: 1px solid #ddd;
            border-top: none;
            border-radius: 0 0 8px 8px;
        }

        .accordion-content.open {
            display: block;
        }

        .accordion-icon {
            font-size: 20px;
            transition: transform 0.3s;
        }

        .accordion-icon.open {
            transform: rotate(180deg);
        }
    </style>
</head>

<body>
    <div class="sidebar">
        <div class="logo">ğŸ”§ ADMÄ°N PANELÄ°</div>
        <ul class="menu-list">
            <li><a href="/dashboardAdmin">ğŸ“Š Ana Sayfa</a></li>
            <li><a href="/dashboardAdmin/ogrenciler">ğŸ‘¨â€ğŸ“ Ã–ÄŸrenci YÃ¶netimi</a></li>
            <li><a href="/dashboardAdmin/akademisyenler" class="active">ğŸ‘¨â€ğŸ« Akademisyen YÃ¶netimi</a></li>
            <li><a href="/dashboardAdmin/dersler">ğŸ“š Ders YÃ¶netimi</a></li>
            <li><a href="/dashboardAdmin/duyurular">ğŸ“¢ Duyuru YÃ¶netimi</a></li>
        </ul>
        <div class="logout-container"><a href="/cikis" class="logout-btn">Ã‡Ä±kÄ±ÅŸ Yap</a></div>
    </div>

    <div class="main-content">
        <h1 class="page-title">ğŸ‘¨â€ğŸ« Akademisyen YÃ¶netimi</h1>


        <div class="form-container" style="padding:0; border:none; box-shadow:none;">
            <div class="accordion-header" onclick="toggleAccordion('akdForm', this)">
                <span>â• Yeni Akademisyen Ekle</span>
                <span class="accordion-icon">â–¼</span>
            </div>
            <div id="akdForm" class="accordion-content">
                <form action="/dashboardAdmin/akademisyen/ekle" method="POST">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Unvan *</label>
                            <select name="unvan" required>
                                <option value="Prof. Dr.">Prof. Dr.</option>
                                <option value="DoÃ§. Dr.">DoÃ§. Dr.</option>
                                <option value="Dr. Ã–ÄŸr. Ãœyesi">Dr. Ã–ÄŸr. Ãœyesi</option>
                                <option value="Ã–ÄŸr. GÃ¶r." selected>Ã–ÄŸr. GÃ¶r.</option>
                                <option value="ArÅŸ. GÃ¶r.">ArÅŸ. GÃ¶r.</option>
                            </select>
                        </div>
                        <div class="form-group"><label>Ad *</label><input type="text" name="ad" required></div>
                        <div class="form-group"><label>Soyad *</label><input type="text" name="soyad" required></div>
                    </div>
                    <div class="form-row">
                        <div class="form-group"><label>Numara (GiriÅŸ ID)</label><input type="text" name="numara"
                                placeholder="Opsiyonel"></div>
                        <div class="form-group"><label>Åifre</label><input type="text" name="sifre" value="123456">
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary">Akademisyen Ekle</button>
                </form>
            </div>
        </div>


        <div class="form-container">
            <h3>KayÄ±tlÄ± Akademisyenler (<%= akademisyenler.length %> kayÄ±t)</h3>
            <table>
                <thead>
                    <tr>
                        <th>Unvan</th>
                        <th>Ad Soyad</th>
                        <th>Numara</th>
                        <th>Åifre</th>
                        <th>Ä°ÅŸlem</th>
                    </tr>
                </thead>
                <tbody>
                    <% akademisyenler.forEach(a=> { %>
                        <tr>
                            <td>
                                <%= a.akademisyen?.unvan || '-' %>
                            </td>
                            <td>
                                <%= a.ad %>
                                    <%= a.soyad %>
                            </td>
                            <td>
                                <%= a.numara || a.id %>
                            </td>
                            <td><code><%= a.sifre %></code></td>
                            <td class="action-btns">
                                <form action="/dashboardAdmin/akademisyen/sil/<%= a.id %>" method="POST"
                                    style="display:inline;" onsubmit="return confirm('Emin misiniz?')">
                                    <button class="btn btn-danger btn-sm">ğŸ—‘ï¸ Sil</button>
                                </form>
                            </td>
                        </tr>
                        <% }); %>
                </tbody>
            </table>
        </div>
    </div>

    <script>
        function toggleAccordion(id, header) {
            const content = document.getElementById(id);
            const icon = header.querySelector('.accordion-icon');
            content.classList.toggle('open');
            icon.classList.toggle('open');
        }
    </script>
</body>

</html>